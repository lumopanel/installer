# Lumo Daemon Configuration
# Generated by install script

[socket]
path = "{{DAEMON_SOCKET_PATH}}"
permissions = "0660"
owner = "root"
group = "www-data"

[security]
hmac_secret_path = "{{HMAC_SECRET_PATH}}"
nonce_ttl_seconds = 300
max_request_age_seconds = 60
allowed_peer_uids = [0, {{LUMO_UID}}]
rate_limit_requests = 100
rate_limit_window_seconds = 60

[paths]
templates_dir = "{{DAEMON_TEMPLATES_DIR}}"
custom_templates_dir = "{{DAEMON_CONFIG_DIR}}/templates"
log_dir = "{{DAEMON_LOG_DIR}}"

[logging]
level = "info"
format = "json"
file = "{{DAEMON_LOG_DIR}}/daemon.log"

[limits]
max_message_size = 1048576
default_timeout_seconds = 300
max_concurrent_requests = 100
socket_timeout_seconds = 30

[audit]
enabled = true
log_path = "{{DAEMON_LOG_DIR}}/audit.log"

[whitelists]
additional_services = [
    "redis-server",
    "php8.1-fpm", "php8.2-fpm", "php8.3-fpm", "php8.4-fpm",
    "mysql", "mariadb",
    "postgresql",
    "certbot",
    "lumo-daemon",
    "lumo-horizon"
]
additional_packages = [
    "software-properties-common",
    "apt-transport-https",
    "lsb-release",
    "acl",
    "redis-server",
    "nginx",
    "mysql-server", "mariadb-server",
    "postgresql", "postgresql-contrib",
    "certbot", "python3-certbot-nginx",
    "nodejs", "npm"
]
additional_php_versions = []
additional_php_extensions = ["fileinfo"]
additional_repositories = ["ppa:ondrej/php"]
additional_path_prefixes = [
    "{{INSTALL_DIR}}/",
    "{{LUMO_HOME}}/",
    "/etc/nginx/",
    "/var/www/"
]
